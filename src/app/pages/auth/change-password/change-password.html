
<div class="change-password-container">
    <div class="password-card">
        <div class="d-flex justify-content-between align-items-center">
            <h4 class="page-title">Change Password</h4>
            <app-theme-toggle></app-theme-toggle>
        </div>

        <p class="page-subtitle mb-4">Please enter your current password and choose a new one to update your security
            settings.</p>

        <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">

            <div class="mb-3">
                <app-input label="Current Password" type="password" formControlName="currentPassword"
                    placeholder="Enter current password" icon="bi bi-lock">
                </app-input>
            </div>

            <div class="mb-3">
                <app-input label="New Password" type="password" formControlName="newPassword"
                    placeholder="Enter new password (min 8 chars)" icon="bi bi-key">
                </app-input>
            </div>

            <div class="mb-4">
                <app-input label="Confirm New Password" type="password" formControlName="confirmPassword"
                    placeholder="Confirm new password" icon="bi bi-key-fill">
                </app-input>
                <div *ngIf="changePasswordForm.hasError('passwordMismatch') && changePasswordForm.get('confirmPassword')?.touched"
                    class="text-danger small mt-1">
                    Passwords do not match.
                </div>
            </div>

            <div class="d-grid gap-2">
                <app-button type="submit" label="Update Password" variant="primary" icon="bi bi-shield-check"
                    [loading]="isLoading" [fullWidth]="true">
                </app-button>
            </div>
        </form>

        <div class="text-center mt-3">
            <a routerLink="/account/profile" class="back-link">Back to Profile</a>
        </div>
    </div>
</div>